/* ============================================================
   MATLAB Live Script blocks (Just the Docs + Rouge + copy button)
   ============================================================ */

$matlab-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
              "Liberation Mono", "Courier New", monospace;

$matlab-cell-bg: #f7f7f7;
$matlab-cell-border: #d9d9d9;
$matlab-cell-radius: 3px;

/* ---------- MATLAB INPUT (```matlab) ---------- */
/* Style ONLY the outer wrapper to avoid “double box” */
div.language-matlab.highlighter-rouge {
  margin: 0.55rem 0 0.35rem 0;
  background: $matlab-cell-bg;
  border: 1px solid $matlab-cell-border;
  border-radius: $matlab-cell-radius;
  padding: 0.65rem 0.85rem;
  position: relative; /* for copy button positioning */
}

/* Strip inner wrappers completely */
div.language-matlab.highlighter-rouge > div.highlight {
  background: transparent !important;
  border: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
}

div.language-matlab.highlighter-rouge pre.highlight {
  background: transparent !important;
  border: 0 !important;
  padding: 0 !important;
  margin: 0 !important;

  font-family: $matlab-mono;
  font-size: 0.92em;
  line-height: 1.35;
  white-space: pre;
  overflow-x: auto;
}

/* Ensure the <code> doesn’t introduce its own background/padding */
div.language-matlab.highlighter-rouge pre.highlight > code.language-matlab {
  background: transparent !important;
  padding: 0 !important;
}

/* Copy button: keep it from affecting box height and match MATLAB-ish subtlety */
div.language-matlab.highlighter-rouge > button {
  position: absolute;
  top: 0.35rem;
  right: 0.35rem;
  margin: 0 !important;
}

/* ---------- MATLAB TEXT OUTPUT (```matlabTextOutput) ---------- */
/* MATLAB text output is a bare <pre><code>, not Rouge-wrapped */
.main-content pre.language-matlabtextoutput {
  margin: 0.05rem 0 0.95rem 0;
  padding: 0.10rem 0 0.10rem 1.35rem; /* indent output */
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;

  font-family: $matlab-mono;
  font-size: 0.90em;
  line-height: 1.35;
  white-space: pre;
  overflow-x: auto;
}

/* IMPORTANT: override JTD’s global `code { font-size: 0.75em; }` */
.main-content pre.language-matlabtextoutput > code.language-matlabtextoutput {
  font-family: inherit !important;
  font-size: inherit !important;
  line-height: inherit !important;
  background: transparent !important;
  padding: 0 !important;
  color: inherit;
}

.main-content pre.language-matlabtextoutput {
  margin-top: -0.15rem;
}

/* Optional: if Just the Docs styles ALL <pre> with a border/background,
   this ensures the matlabTextOutput stays unboxed. */
pre.language-matlabtextoutput,
pre.language-matlabtextoutput code {
  border-radius: 0 !important;
}